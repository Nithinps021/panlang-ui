(this["webpackJsonppanlang-ui"]=this["webpackJsonppanlang-ui"]||[]).push([[0],{131:function(e,t,a){e.exports=a(163)},136:function(e,t,a){},163:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),o=(a(136),a(68)),u=a(9),i=a(108),m=a(100);var s=function(){return r.a.createElement(i.a,{bg:"light"},r.a.createElement(i.a.Brand,{as:o.b,to:"/"},"PanLang"),r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(m.a.Link,{as:o.b,to:"/order"},"Order"),r.a.createElement(m.a.Link,{as:o.b,to:"/stock"},"Stock")))},d=a(46);var E=function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Welcome to PanLang!"))};var h=function(){return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Order"),r.a.createElement("p",null,"This is gonna be an order form in the future"))},p=a(50),g=a(77),f=a(127),v=a(102),b=a(125),k=a(168),y=a(169),C=a(170),w=a(93),S=a(49),I=a(51),O=a.n(I),j=a(99),x=a(123),L=a.n(x).a.create({baseURL:"https://panlang.herokuapp.com"});function T(){return B.apply(this,arguments)}function B(){return(B=Object(j.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.get("/stock");case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(j.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.post("/stock",t).then((function(e){return!0})).catch((function(e){return!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=Object(j.a)(O.a.mark((function e(t,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L.put("".concat("/stock","/").concat(t),a).then((function(e){return console.log(e),!0})).catch((function(e){return console.error(e),!1}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=S.b({newCount:S.a().integer().moreThan(-1).required()});var A=function(e){var t=e.show,a=e.handleClose,n=e.getStock,l=e.stockId,c=e.stockName,o=e.stockCount;return r.a.createElement(y.a,{show:t,onHide:a,"aria-labelledby":"contained-modal-title-vcenter",centered:!0},r.a.createElement(w.a,{validationSchema:F,onSubmit:function(e){console.log(e),function(e,t){N.apply(this,arguments)}(l,e),a(),n(500)},initialValues:{newCount:-1}},(function(e){var t=e.handleSubmit,n=e.handleChange,l=(e.handleBlur,e.values,e.touched),u=(e.isValid,e.errors);return r.a.createElement("div",null,r.a.createElement(y.a.Header,{closeButton:!0},r.a.createElement(y.a.Title,{id:"contained-modal-title-vcenter"},"Edit amount for: ",c)),r.a.createElement(y.a.Body,null,r.a.createElement("p",null,"Current amount: ",o),r.a.createElement(C.a,{noValidate:!0,onSubmit:t},r.a.createElement(C.a.Group,{controlId:"stockCount"},r.a.createElement(C.a.Control,{type:"number",name:"newCount",placeholder:"Insert new item count",onChange:n,isValid:l.newCount&&!u.newCount,isInvalid:!!u.newCount}),r.a.createElement(C.a.Control.Feedback,null,"Looks good!")))),r.a.createElement(y.a.Footer,null,r.a.createElement(b.a,{variant:"secondary",onClick:a},"Close"),r.a.createElement(b.a,{variant:"primary",onClick:t},"Save new amount")))})))};var q=function(e){var t=e.stockItem,a=e.getStock,l=e.lang,c=void 0===l?"name":l,o=Object(n.useState)(!1),u=Object(p.a)(o,2),i=u[0],m=u[1],s=Object(n.useState)(!1),E=Object(p.a)(s,2),h=E[0],g=E[1];return Object(n.useEffect)((function(){g(void 0!==t[c])}),[c,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{style:{margin:5}},r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Title,null,h?t[c]:t.name),r.a.createElement(v.a.Text,null,"Amount: ",r.a.createElement("b",null,t.count)),r.a.createElement(v.a.Text,{style:{textAlign:"right"}},"Last updated:"," ",void 0!==t.timestamp?new Date(t.timestamp).toDateString():"Unavailable"),r.a.createElement(d.a,{style:{display:"flex",alignItems:"center",padding:0}},r.a.createElement(b.a,{size:"sm",variant:"info",style:{alignSelf:"center"},onClick:function(){return m(!0)}},"Edit amount"),r.a.createElement("div",{style:{margin:"auto"}}),!h&&r.a.createElement(k.a,{variant:"danger"},"Language unavailable")))),r.a.createElement(A,{show:i,handleClose:function(){return m(!1)},getStock:a,stockName:h?t[c]:t.name,stockId:t._id,stockCount:t.count}))},z=a(101),G=S.b({name:S.c().required(),count:S.a().integer().moreThan(-1).required()});var H=function(e){var t=e.getStock;return r.a.createElement(z.a,null,r.a.createElement(v.a,null,r.a.createElement(z.a.Toggle,{as:v.a.Header,eventKey:"0"},"Click here to insert a stock item"),r.a.createElement(z.a.Collapse,{eventKey:"0"},r.a.createElement(v.a.Body,null,r.a.createElement(w.a,{validationSchema:G,onSubmit:function(e){t(500),console.log(function(e){return V.apply(this,arguments)}(e))},initialValues:{name:"",count:-1}},(function(e){var t=e.handleSubmit,a=e.handleChange,n=(e.handleBlur,e.values,e.touched),l=(e.isValid,e.errors);return r.a.createElement(C.a,{noValidate:!0,onSubmit:t},r.a.createElement(C.a.Group,{controlId:"stockInputName"},r.a.createElement(C.a.Control,{type:"text",name:"name",placeholder:"Insert item name here",onChange:a,isValid:n.name&&!l.name,isInvalid:!!l.name}),r.a.createElement(C.a.Control.Feedback,null,"Looks good!")),r.a.createElement(C.a.Group,{controlId:"stockInputCount"},r.a.createElement(C.a.Control,{type:"number",name:"count",placeholder:"Insert item count here",onChange:a,isValid:n.count&&!l.count,isInvalid:!!l.count}),r.a.createElement(C.a.Control.Feedback,null,"Looks good!")),r.a.createElement(b.a,{variant:"success",type:"submit"},"Add item to database"))}))))))},K=["english","spanish","french","chinese"];var W=function(){var e=Object(n.useState)([]),t=Object(p.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),o=Object(p.a)(c,2),u=o[0],i=o[1],m=Object(n.useState)(K[0]),s=Object(p.a)(m,2),E=s[0],h=s[1];function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;l([]),setTimeout((function(){T().then((function(e){l(e.data)})).catch((function(e){return i(!0)}))}),e)}return Object(n.useEffect)((function(){v()}),[]),r.a.createElement(d.a,null,r.a.createElement("h1",{style:{textAlign:"center"}},"Stock"),r.a.createElement(d.a,{style:{display:"flex",alignItems:"center",padding:0}},r.a.createElement(g.a,{onChange:function(e){return console.log(e)}},r.a.createElement(g.a.Toggle,{id:"dropdown-basic",size:"md",className:"mb-3"},"Language: ",r.a.createElement("b",null,E)),r.a.createElement(g.a.Menu,null,K.map((function(e){return r.a.createElement(g.a.Item,{onSelect:function(e){return h(e)},eventKey:e,key:e},e)})))),r.a.createElement("div",{style:{margin:"auto"}}),r.a.createElement(b.a,{size:"md",onClick:v},"Refresh")),r.a.createElement(H,{getStock:v}),0===a.length&&!u&&r.a.createElement(f.a,{animation:"border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),a&&a.map((function(e){return r.a.createElement(q,{stockItem:e,getStock:v,lang:"english"===E?"name":E,key:e._id})})),u&&r.a.createElement("p",null,"Error :("))};var D=function(){return r.a.createElement(o.a,{basename:"/panlang-ui"},r.a.createElement(s,{"\xe7":!0}),r.a.createElement("br",null),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(E,null)),r.a.createElement(u.a,{path:"/stock"},r.a.createElement(W,null)),r.a.createElement(u.a,{path:"/order"},r.a.createElement(h,null)),r.a.createElement(u.a,{path:"*"},r.a.createElement("h1",null,"404"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(162);c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[131,1,2]]]);
//# sourceMappingURL=main.96a7d093.chunk.js.map